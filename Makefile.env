

CFGmakeRun:=Makefile.run.go01


GoTOP:=go2019_0208_1414pm__udp_hold
GoTOP:= udp_799__server  udp_899__client
udp_799__server:= udp_799__server  udp_101__type  
udp_899__client:= udp_899__client udp_101__type  

wputPATH:=ftp://coe:coe@192.168.1.93/


DockerList:=$(GoTOP)

ifdef DockerList
DockerSource?=dyn_empty_docker
#DockerSource:=scratchx
DockerSource:=$(strip $(DockerSource))
DockerSrc01:=$(strip $(shell docker images|grep $(DockerSource)|awk '{print $$3}'))
$(info DockerSrc01:$(DockerSrc01))
$(if $(DockerSrc01),,\
	$(info )\
	$(info DockerSrc01 want [$(DockerSource)] null or not exist. exit)\
	$(info you should run the following command :)\
	$(info tar cv --files-from /dev/null | docker import - dyn_empty_docker)\
	$(info )\
	$(error DockerSrc01 want [$(DockerSource)] null or not exist. exit))

define DockerBuildTP01

echo $1,$2 >> $3


endef

bd:
	echo -n > lnx/Docker.file 
	$(foreach aa1,$(DockerList),\
	$(foreach aa2,$(GoPreDockerALL),\
	$(eval bb1:=$(aa1).lnx.$(aa2).exe)\
	$(eval bb2:=$(shell echo $(aa1).lnx.$(aa2).exe|tr [A-Z\-] [a-z_]))\
	$(call DockerBuildTP01,$(aa1),$(aa2),lnx/Docker.file)\
	$(info bb3:$(bb3))\
	))

#	@echo "_doing $(aa1) $(aa2) lnx/$(bb1) $(bb2)" ;\
#	exit 33$(EOL)\

endif
